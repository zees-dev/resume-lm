apiVersion: v1
kind: Secret
metadata:
  name: {{ include "resumelm.secretName" . }}
  labels:
    {{- include "resumelm.labels" . | nindent 4 }}
type: Opaque
stringData:
  # JWT and Supabase keys
  JWT_SECRET: {{ .Values.secrets.jwtSecret | quote }}
  POSTGRES_PASSWORD: {{ .Values.secrets.postgresPassword | quote }}
  ANON_KEY: {{ .Values.secrets.anonKey | quote }}
  SERVICE_ROLE_KEY: {{ .Values.secrets.serviceRoleKey | quote }}
  DASHBOARD_PASSWORD: {{ .Values.secrets.dashboardPassword | quote }}
  LOGFLARE_API_KEY: {{ .Values.secrets.logflareApiKey | quote }}
  SECRET_KEY_BASE: {{ .Values.secrets.realtimeSecretKeyBase | quote }}

  # Admin credentials
  SEED_ADMIN_EMAIL: {{ .Values.admin.email | quote }}
  SEED_ADMIN_PASSWORD: {{ .Values.admin.password | quote }}

  # AI Provider keys
  {{- if .Values.ai.openaiApiKey }}
  OPENAI_API_KEY: {{ .Values.ai.openaiApiKey | quote }}
  {{- end }}
  {{- if .Values.ai.anthropicApiKey }}
  ANTHROPIC_API_KEY: {{ .Values.ai.anthropicApiKey | quote }}
  {{- end }}
  {{- if .Values.ai.openrouterApiKey }}
  OPENROUTER_API_KEY: {{ .Values.ai.openrouterApiKey | quote }}
  {{- end }}

  # Stripe
  STRIPE_SECRET_KEY: {{ .Values.stripe.secretKey | quote }}
  STRIPE_WEBHOOK_SECRET: {{ .Values.stripe.webhookSecret | quote }}
  NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY: {{ .Values.stripe.publishableKey | quote }}
  NEXT_PUBLIC_STRIPE_PRO_PRICE_ID: {{ .Values.stripe.proPriceId | quote }}
